<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eluun - Official</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
        window.OneSignalDeferred = window.OneSignalDeferred || [];
        OneSignalDeferred.push(async function(OneSignal) {
            await OneSignal.init({
                appId: "87a222fa-2a66-4f8e-b7e8-187932e0d87b",
            });     
        });
    </script>
       <link rel="manifest" href="manifest.json"/>
       <div class="onesignal-customlink-container"></div>

</head>

<body>
    <!-- Main container -->
    <div class="container">
        <!-- Profile Section -->
        <div class="profile">
            <img src="profile.png" alt="Eluun" class="profile-pic">
            <h1 class="artist-name">Eluun</h1>
        </div>

        <!-- Subscription Form -->
        <div class="form-container">
            <h2>Give your strongest support to underground independence !</h2>
            <p style="font-size: 10px;">Today's music world is a real challenge for independent artists. Dependence on algorithms and how they work is one of the main obstacles for non-mainstream underground artists.<br>
                <br>
                However, staying informed and reactive to our content is the best help you can give to support an independent artist.<br>
                <br>
                That's why, following James Blake's example, I've decided to take back some power over my visibility and offer you a tool that will enable you to support me enormously, all for free.<br>
                <br>
                Here you can subscribe to receive important information about my music releases, concerts and videos directly by SMS.<br>
                <br>
                I'm just like you, I hate spam, which is why I make it a point of honor to send you as few messages as possible, and to stay focused on what's most important. <br>
                <br>
                In any case, you can remove yourself from this list by asking me in a private message on instagram.<br>
                <br>
                I'll never be able to thank enough the people who decide to sign up here.<br>
                <br>
                Eluun</p>
            <form id="phone-form">
                <label for="phone">Phone Number</label>
                <input type="text" id="phone" name="phone" placeholder="Include your number with your country's code, for example +33 6 00 00 00 00" required>
                
                <div class="checkbox-container">
                    <input type="checkbox" id="consent" required>
                    <label for="consent">I consent to subscribe to this channel.</label>
                </div>

                <button type="submit" id="submit-btn" disabled>Keep Informed</button>
            </form>
        </div>

        <!-- Button Section -->
        <!-- Début du bloc des boutons -->

<!-- Section des boutons -->
<section class="button-section">
<!-- Première colonne -->
<div class="column">
    <a href="https://www.mbartists.co.uk/clara/eluun" target="_blank"><button>Booking EU/UK</button></a>
    <a href="https://www.patreon.com/c/Eluun" target="_blank"><button>Patreon (support)</button></a>
    <a href="https://www.instagram.com/eluun.dnb/" target="_blank"><button>Instagram</button></a>
    <a href="https://soundcloud.com/eluunofficial" target="_blank"><button>Soundcloud</button></a>
    <a href="https://open.spotify.com/intl-fr/artist/7LySsKIRvri6Ye5kUv47DQ?si=3165a23d26134a30" target="_blank"><button>Spotify</button></a>
    <a href="https://music.apple.com/fr/artist/eluun/1195602750" target="_blank"><button>Apple Music</button></a>
    <a href="https://www.example.com/free-download" target="_blank"><button>Free download my music</button></a>
  </div>
  
<!-- Deuxième colonne -->
<div class="column">
    <a href="https://bfan.link/soulchild" target="_blank">
        <button>
            Soulchild EP
            <span class="button-icon">
                <img src="Soulchild.jpg" class="icon-pic" />
            </span>
        </button>
    </a>

    <a href="https://kosenprod.fanlink.tv/fromdusttodawn" target="_blank">
        <button>
            Snowfall
            <span class="button-icon">
                <img src="Snowfall.jpg" class="icon-pic" />
            </span>
        </button>
    </a>

    <a href="https://open.spotify.com/intl-fr/album/0Fb4pOQvyLpSb2S8YA4NYs?si=fEh5RrFtR5eugEDestkbHQ&nd=1&dlsi=ddcdd303e43a4367" target="_blank">
        <button>
            Icarus EP
            <span class="button-icon">
                <img src="Icarus.jpg" class="icon-pic" />
            </span>
        </button>
    </a>

    <a href="https://bfan.link/gen-iii" target="_blank">
        <button>
            Unseen
            <span class="button-icon">
                <img src="Unseen.jpg" class="icon-pic" />
            </span>
        </button>
    </a>

    <a href="https://soundcloud.com/eluunofficial/tarantula-bootleg" target="_blank">
        <button>
            Tarantula Bootleg
            <span class="button-icon">
                <img src="Tarantula.jpg" class="icon-pic" />
            </span>
        </button>
    </a>

    <a href="https://soundcloud.com/eluunofficial/buunshin-different-tomorrow-eluun-remix-8" target="_blank">
        <button>
            Different Tomorrow Remix
            <span class="button-icon">
                <img src="Different.jpg" class="icon-pic" />
            </span>
        </button>
    </a>
</div>

    <!-- Popup -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <p>Please enter your phone number in the international format, for example: +33 6 00 00 00 00.</p>
            <button onclick="closePopup()">OK</button>
        </div>
    </div>

    <script src="script.js"></script>

 

    <script>
        // Enable form submission only if all conditions are met
        const phoneInput = document.getElementById('phone');
        const consentCheckbox = document.getElementById('consent');
        const submitBtn = document.getElementById('submit-btn');
        const form = document.getElementById('phone-form'); // Cible le formulaire
    
        phoneInput.addEventListener('input', validateForm);
        consentCheckbox.addEventListener('change', validateForm);
    
        function validateForm() {
            const phoneValue = phoneInput.value;
            const isPhoneValid = phoneValue.startsWith('+') && phoneValue.length > 5;
            if (isPhoneValid && consentCheckbox.checked) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }
    
        // Popup display if phone number is not international
        form.addEventListener('submit', function(event) {
            event.preventDefault(); // Empêche l'envoi traditionnel du formulaire
            if (!phoneInput.value.startsWith('+')) {
                document.getElementById('popup').style.display = 'block';
                return; // Si le téléphone n'est pas dans le bon format, ne pas envoyer
            }
    
            // Si tout est valide, envoyer les données à la fonction Netlify
            const phone = phoneInput.value;
            const consent = consentCheckbox.checked;
    
            // Envoyer la requête POST à la fonction Netlify
            fetch('/.netlify/functions/add-contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    phone: phone,
                    consent: consent
                })
            })
            .then(response => response.json())
            .then(data => {
                // Gérer la réponse de la fonction
                console.log('Success:', data);
                alert('Thank you for subscribing!');
            })
            .catch((error) => {
                // Gérer les erreurs
                console.error('Error:', error);
                alert('There was an error with your submission. Please try again later.');
            });
        });
    
        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }
    </script>
</body>
</html>
